import React from "react";
import { inject, observer } from "mobx-react";
import { withRouter } from "react-router-dom";
import LoadingSpinner from '../../components/LoadingSpinner';



@inject("newsStore")
@withRouter
@observer
export default class Service extends React.Component {
  
  componentDidMount() {
    const slug = this.props.match.params.id;
    this.props.newsStore.loadDetailNews(slug, { acceptCached: false });
    //this.props.newsStore.loadNews();
  }



  isBodyLoading(news){

    if(news.desc == undefined){
      return <LoadingSpinner />
    }
    return <div className="" dangerouslySetInnerHTML={{__html: news.desc}} />
  }

  render() {
    const slug = this.props.match.params.id;
    
    const news = this.props.newsStore.getDetailNews(slug);

   // this.props.newsStore.getDetailNews(slug, { acceptCached: false });
    
    if (!news || this.props.newsStore.length === 0) {
      return (
        
          <LoadingSpinner />
        
      );
    }
   
    const body = this.isBodyLoading(news)
    

    return (
      <div className="news-page">

        <svg width="100%" height="100%" viewBox="0 0 1920000 187000" xmlns="http://www.w3.org/2000/svg"><g class="layer"><title>Layer 1</title><g id="Слой_x0020_1"><metadata id="CorelCorpID_0Corel-Layer"></metadata><g id="_2726342062960"><polygon class="fil0" id="svg_1" points="0,-20.25 1919990,-20.25 1919980,31389.75 1860620,100639.75 4130,100639.75 60,118609.75 "></polygon><path class="fil1" d="m169430,134009.75l0,21530l-4980,0l0,-8830l-9780,0l0,8830l-4980,0l0,-21530l4980,0l0,8490l9780,0l0,-8490l4980,0zm15660,21900c-2240,0 -4250,-480 -6050,-1450c-1790,-960 -3190,-2290 -4210,-3980c-1010,-1690 -1520,-3590 -1520,-5710c0,-2110 510,-4010 1520,-5700c1020,-1690 2420,-3020 4210,-3980c1800,-970 3810,-1450 6050,-1450c2230,0 4240,480 6020,1450c1790,960 3190,2290 4220,3980c1020,1690 1540,3590 1540,5700c0,2120 -520,4020 -1540,5710c-1030,1690 -2430,3020 -4220,3980c-1780,970 -3790,1450 -6020,1450zm0,-4250c1270,0 2420,-290 3440,-870c1030,-590 1830,-1400 2410,-2450c590,-1040 880,-2230 880,-3570c0,-1330 -290,-2520 -880,-3560c-580,-1050 -1380,-1860 -2410,-2450c-1020,-580 -2170,-880 -3440,-880c-1270,0 -2420,300 -3450,880c-1020,590 -1830,1400 -2410,2450c-590,1040 -880,2230 -880,3560c0,1340 290,2530 880,3570c580,1050 1390,1860 2410,2450c1030,580 2180,870 3450,870zm30540,-7350c1310,390 2310,1030 3010,1910c700,880 1040,1970 1040,3260c0,1910 -720,3390 -2160,4460c-1450,1060 -3510,1600 -6200,1600l-10610,0l0,-21530l10030,0c2500,0 4440,480 5840,1450c1390,960 2090,2330 2090,4120c0,1060 -270,2000 -800,2810c-530,810 -1280,1450 -2240,1920zm-9970,-1380l4650,0c1080,0 1900,-220 2450,-660c560,-440 840,-1090 840,-1960c0,-840 -290,-1480 -850,-1930c-560,-450 -1380,-680 -2440,-680l-4650,0l0,5230zm5480,8920c2330,0 3500,-930 3500,-2770c0,-1780 -1170,-2680 -3500,-2680l-5480,0l0,5450l5480,0zm22750,4060c-2230,0 -4250,-480 -6040,-1450c-1790,-960 -3200,-2290 -4210,-3980c-1020,-1690 -1530,-3590 -1530,-5710c0,-2110 510,-4010 1530,-5700c1010,-1690 2420,-3020 4210,-3980c1790,-970 3810,-1450 6040,-1450c2240,0 4250,480 6030,1450c1790,960 3190,2290 4210,3980c1030,1690 1540,3590 1540,5700c0,2120 -510,4020 -1540,5710c-1020,1690 -2420,3020 -4210,3980c-1780,970 -3790,1450 -6030,1450zm0,-4250c1270,0 2420,-290 3450,-870c1020,-590 1830,-1400 2410,-2450c590,-1040 880,-2230 880,-3570c0,-1330 -290,-2520 -880,-3560c-580,-1050 -1390,-1860 -2410,-2450c-1030,-580 -2180,-880 -3450,-880c-1270,0 -2420,300 -3440,880c-1030,590 -1830,1400 -2410,2450c-590,1040 -880,2230 -880,3560c0,1340 290,2530 880,3570c580,1050 1380,1860 2410,2450c1020,580 2170,870 3440,870zm25810,4250c-2200,0 -4180,-480 -5950,-1430c-1780,-960 -3170,-2280 -4190,-3970c-1010,-1690 -1520,-3600 -1520,-5740c0,-2130 510,-4040 1520,-5730c1020,-1690 2410,-3020 4190,-3970c1770,-950 3760,-1430 5980,-1430c1860,0 3550,330 5060,980c1500,660 2770,1600 3790,2830l-3190,2960c-1460,-1680 -3260,-2530 -5420,-2530c-1330,0 -2520,300 -3560,880c-1050,590 -1860,1400 -2450,2450c-580,1040 -880,2230 -880,3560c0,1340 300,2530 880,3570c590,1050 1400,1860 2450,2450c1040,580 2230,870 3560,870c2160,0 3960,-850 5420,-2550l3190,2950c-1020,1250 -2290,2210 -3810,2860c-1520,660 -3210,990 -5070,990zm28380,-17840l-6890,0l0,17470l-4920,0l0,-17470l-6860,0l0,-4060l18670,0l0,4060zm3140,-4060l4950,0l0,14020l10270,-14020l4680,0l0,21530l-4920,0l0,-14000l-10280,14000l-4700,0l0,-21530z" id="svg_2"></path><path class="fil2" d="m330040,61679.75l709040,160l36600,-50c8880,60 13440,-3110 19240,-9170c10550,-11000 21820,-28810 26560,-36660l6920,0c-8090,20670 -16180,41330 -24260,62000c-6380,16300 -10980,26270 -52730,25970l-12330,0l-320080,-10l-23380,40l-632330,-10c-55630,0 -63290,70180 -63290,66640l0,-37540l120,-28490c100,-24160 23450,-44430 77080,-44060l252840,1180z" id="svg_3"></path><path class="fil2" d="m1212620,60509.75l13580,0l607400,130l25990,10c8900,60 25240,-5270 31530,-10600c25870,-21950 27320,-40330 28860,-50050l0,39070c0,30490 -14670,58830 -60350,61860c-2700,180 -5510,270 -8430,260l-17610,10l-634620,-10c-13640,-80 -30210,-2630 -47610,10870c-7380,5730 -12420,21030 -14340,28130l-6960,0l7280,-23420c10050,-32380 17590,-56660 75280,-56260z" id="svg_4"></path><path class="fil3" d="m432580,107959.75l13590,0l607390,130l25990,10c8910,60 19910,-3000 25740,-8840c10590,-10600 29300,-75300 34060,-82870l6950,0c-6240,24280 -24080,103960 -28610,113350c-6720,13930 -29310,19070 -51760,18910l-12370,0l-634620,-10c-13650,-80 -30220,-2630 -47610,10880c-7380,5720 -12420,21030 -14340,28120l-6960,0l7270,-23420c10060,-32380 17590,-56650 75280,-56260z" id="svg_5"></path></g></g></g></svg>
        
        <div className="container">
          <div className="row">
            <div className="col-lg-11 offset-lg-1">
              <h1>{news.title}</h1>
            </div>
          </div>
        </div>

        <div className="container page">
          
          {body}
            

          <hr />

          <div className="article-actions" />

          <div className="row">
          
          </div>
        </div>
      </div>
    );
  }
}
